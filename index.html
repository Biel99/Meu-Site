
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Contador de Palavras</a>
    </div>
	<ul class="nav navbar-nav">
      <li><a class="active" href="#">by gabriel</a></li>
	</ul>
	</div>
</nav>

<div class="container">
<form class="form-inline">
<div class="form-group">
    <label for="texto">Texto: </label>
	<input type="textarea" class="form-control" id="texto"/>
</div>
	<button type="submit" class="btn btn-success" onClick="convert()">Confirmar</button>
</form>
</div>

<div id="tabela">
</div>

<script>
function convert(){

	if(document.getElementById("texto").value==""){
		alert("Campo de texto vazio!");
		return none;
	}

	var tamanho=0;
	var words = {};
	var arr = document.getElementById("texto").value.toLowerCase().split(/[ ,.-;?:!]+/).filter(Boolean);
    
    /*split(/\s+/);*/
    
	for (var i in arr){
    	var word = arr[i];
    	if(words[word] === undefined){
        	words[word]=0;
            tamanho++;
        }
    	words[word]++;
	}
    
    var keys = [];
	for(var k in words) keys.push(k);
    
    keysSorted = Object.keys(words).sort(function(a,b){return words[b]-words[a]});
	/*document.write(keysSorted);*/
    
    document.write('<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><table class="table table-striped"><thead><tr><th>Palavras</th><th>OcorrÃªncias</th></tr></thead><tbody>');
    
    for(i=0;i<tamanho;i++){
    	document.write("<tr><td>"+keysSorted[i]+"</td><td> "+words[keysSorted[i]]+"</td></tr>");
    }
}
</script>
